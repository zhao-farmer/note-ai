import{_ as i}from"./chunks/008.ButlBZmP.js";import{_ as a,c as t,o as n,a0 as e}from"./chunks/framework.DqNHTjo5.js";const l="/note-ai/code/tool/claude/001.png",p="/note-ai/code/tool/claude/002.png",o="/note-ai/code/tool/claude/003.png",h="/note-ai/code/tool/claude/004.png",r="/note-ai/code/tool/claude/006.png",m=JSON.parse('{"title":"一、初始化Claude","description":"","frontmatter":{},"headers":[],"relativePath":"markdown/code/tool/claude/01.md","filePath":"markdown/code/tool/claude/01.md"}'),k={name:"markdown/code/tool/claude/01.md"};function d(g,s,c,E,u,y){return n(),t("div",null,s[0]||(s[0]=[e('<h1 id="一、初始化claude" tabindex="-1">一、初始化Claude <a class="header-anchor" href="#一、初始化claude" aria-label="Permalink to &quot;一、初始化Claude&quot;">​</a></h1><h2 id="_1-1-引言" tabindex="-1">1.1 引言 <a class="header-anchor" href="#_1-1-引言" aria-label="Permalink to &quot;1.1 引言&quot;">​</a></h2><h3 id="_1-1-1-为什么不用cursor了" tabindex="-1">1.1.1 为什么不用Cursor了 <a class="header-anchor" href="#_1-1-1-为什么不用cursor了" aria-label="Permalink to &quot;1.1.1 为什么不用Cursor了&quot;">​</a></h3><p>​ Cursor是一款基于人工智能的代码编辑器，旨在帮助开发人员编写代码，并于AI进行实时互动，提供写代码建议、错误检测和自动补全功能。支持多种编程语言（如Python、JavaScript、Java等）</p><p>​ 现在AI开发工具在开发中的能力和重要性越来越高，Cursor的高能力让很多人趋之若鹜，但是Cursor计价规则的<strong>黑箱模式</strong>、朝令夕改、费用上调又让开发者们感到无奈且遗憾。</p><p>​ Cursor首先是修改了免费用户的使用权限，从不限制模型到只能使用gpt4.1模型，再到只能使用Auto模式；其次修改了每个月充值了 20美元的Pro用户的权限，首先是从每月500次快速，额度用尽后转为慢速，变成了无次数限制，但是快速慢速混用，可以通过额外付费避免慢速。其实这倒是也能接受，无非是每天可能会有几个任务卡住几分钟或者十几分钟而已。但是最近一次的计费规则修改堪称抽象，Pro用户每月只能发起总价$20的请求。下图是我上个月的用量：</p><p><img src="'+l+`" alt="" data-fancybox="gallery"></p><p>​ 原来这些模型这么贵。那$20想必也是稍纵即逝。这种朝令夕改、不公布计价细节的行为让人无法接受，Cursor是其母公司的唯一产品，其并没有一线大厂的一言九鼎和尊重用户的品质，因此，选择一个合适的替代品十分重要</p><h3 id="_1-1-2-为什么使用claude-code" tabindex="-1">1.1.2 为什么使用Claude Code <a class="header-anchor" href="#_1-1-2-为什么使用claude-code" aria-label="Permalink to &quot;1.1.2 为什么使用Claude Code&quot;">​</a></h3><p>​ Calude（克劳德）Code 是由 Anthropic 开发的官方 CLI 工具，用于协助用户处理软件工程任务。 Anthropic 发现了Cursor的成功后，开发了Claude Code作为Cursor的竞品。Claude Code是一个革命性的AI编程工具，它将强大的Claude AI直接集成到您的开发环境中。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Anthropic是一家位于美国加州旧金山的人工智能股份有限公司，成立于2021年。该公司是一家人工智能安全和研究公司，致力于构建可靠、可解释和可操纵的AI系统。Anthropic公司开发了聊天机器人Claude，提出的“宪法AI原则”。 </span></span>
<span class="line"><span>2025年2月25日，Anthropic宣布推出Claude 3.7 Sonnet，称这是其迄今为止最智能的模型，也是市场上首款混合推理模型。北京时间2025年5月23日，Anthropic正式推出Claude 4系列大模型。</span></span>
<span class="line"><span>2025年4月，入选《2025福布斯AI 50榜单》</span></span></code></pre></div><p>与传统的代码编辑器插件不同，Claude Code在终端中运行，具有以下特点：</p><ul><li>智能代码理解: 深度理解您的项目结构和代码逻辑</li><li>自然语言交互: 用普通话描述需求，AI自动执行编程任务</li><li>全项目上下文: 理解整个代码库的架构和依赖关系</li><li>安全可靠: 直接连接Anthropic API，所有操作在本地执行</li><li>Git集成: 智能的版本控制操作和历史分析</li></ul><p>除此之外，Claude Code还有以下优势：</p><ul><li>原生Claude模型，没有Cursor暗加的种种故意为了耗费提问次数的提示词，能按照需求制定完善的执行计划</li><li>可按token计费，而不是提问次数。这样无论问题大小尽管提问，按需付费。</li><li>可接入其他模型，这是很重要的一点，因为只要是符合Anthropic框架的LLM都可以接入Claude Code平台</li><li>安装简单，调用国内最新模型价格低廉。后续会详细说明安装流程</li></ul><h3 id="_1-1-3-应用场景举例" tabindex="-1">1.1.3 应用场景举例 <a class="header-anchor" href="#_1-1-3-应用场景举例" aria-label="Permalink to &quot;1.1.3 应用场景举例&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 场景一：代码编写和修改</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;添加一个用户登录功能&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;修复这个函数的bug&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;重构这段代码提高性能&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 场景二：代码分析和理解</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;这个项目是做什么的？&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;解释这个函数的工作原理&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;找出性能瓶颈在哪里&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 场景三：测试和调试</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;运行所有测试并修复失败的部分&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;添加单元测试覆盖这个模块&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;分析为什么这个测试失败了&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 场景四：Git操作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;提交当前更改&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;创建新分支进行功能开发&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;查看最近的提交历史&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 其他......</span></span></code></pre></div><ul><li>项目分析</li></ul><p><img src="`+p+'" alt="" data-fancybox="gallery"></p><ul><li>添加功能</li></ul><p><img src="'+o+'" alt="" data-fancybox="gallery"></p><ul><li>项目性能分析</li></ul><p><img src="'+h+'" alt="" data-fancybox="gallery"></p><h2 id="_1-2-claude-的安装与使用" tabindex="-1">1.2 Claude 的安装与使用 <a class="header-anchor" href="#_1-2-claude-的安装与使用" aria-label="Permalink to &quot;1.2 Claude 的安装与使用&quot;">​</a></h2><p>​Claude Code的最新版本终于支持Windows系统了，不用再用wsl去进行繁琐的配置了！</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>WSL（Windows Subsystem for Linux）是微软开发的Windows子系统，允许用户在Windows 10/11上原生运行Linux二进制文件，无需虚拟机或双系统启动。</span></span></code></pre></div><ol><li><p>必备组件</p><ul><li>Git 版本控制工具</li><li>Node.js 18+ 版本（推荐使用最新LTS版本）</li></ul></li><li><p>安装claude-code</p><ul><li><p>通过npm包管理器直接安装</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @anthropic-ai/claude-code</span></span></code></pre></div></li><li><p>安装完成后验证是否安装成功</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre></div><p><img src="'+i+`" alt="" data-fancybox="gallery"></p></li></ul></li><li><p>使用claude-code-router(ssr)绕过验证</p><ul><li><p><a href="https://github.com/musistudio/claude-code-router" target="_blank" rel="noreferrer">github地址</a></p></li><li><p>安装插件</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @musistudio/claude-code-router</span></span></code></pre></div></li></ul></li><li><p>如果是在外网 可以直接运行此命令</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span></span></code></pre></div></li></ol><h2 id="_1-3-claude-code-router-使用" tabindex="-1">1.3 Claude Code Router 使用 <a class="header-anchor" href="#_1-3-claude-code-router-使用" aria-label="Permalink to &quot;1.3 Claude Code Router 使用&quot;">​</a></h2><h3 id="引言" tabindex="-1">引言 <a class="header-anchor" href="#引言" aria-label="Permalink to &quot;引言&quot;">​</a></h3><p>本教程将手把手教你在 <strong>Claude Code Router（CCR）</strong> 中配置 <strong>Gemini 2.5 Pro</strong>、<strong>DeepSeek-V3.1</strong>、<strong>GLM-4.5</strong>、<strong>Kimi-K2</strong> 与 <strong>Qwen3-Coder（魔搭 ModelScope）</strong> 的<strong>直连 API</strong>，并实现<strong>UI 下拉/命令一键切换</strong>。按照本文，初学者可走完 <strong>“获取密钥 → CCR UI 配置 → 首次通连测试”</strong> 的最短路径。</p><p><strong>说明</strong>：Claude Code 原生只“认” <strong>Anthropic 格式</strong>接口（<code>/v1/messages</code>），而 <strong>CCR</strong> 在后端完成协议转换，适配 <strong>OpenAI 兼容</strong>或特定厂商 API。因此<strong>本文的 Provider 多采用 OpenAI 兼容的 <code>/v1/chat/completions</code> 或厂商专用端点</strong>；个别模型（如 Gemini）需在 CCR 中启用专用 <code>transformer</code>。</p><p>如果你打算使用 <strong>Anthropic 格式</strong> URL，请在 <strong>Transformer</strong> 中选择 <strong>Anthropic</strong>，并确保 Base URL <strong>以 <code>/v1/messages</code> 结尾</strong>；若不选择该转换器，则使用 <strong>OpenAI 兼容</strong>的 <code>/v1/chat/completions</code> 等端点并选择 <strong>openai</strong>。</p><p><strong>Anthropic 格式常用示例</strong></p><ul><li>DeepSeek：<code>https://api.deepseek.com/anthropic/v1/messages</code></li><li>智谱：<code>https://open.bigmodel.cn/api/anthropic/v1/messages</code></li></ul><blockquote><p>小贴士：有些环境会自动给 <code>…/anthropic</code> 追加 <code>/v1/messages</code>；为避免“重复拼接”导致的 404，<strong>在 CCR 里把 Base URL 直接写到 <code>/v1/messages</code> 结尾最稳妥</strong>。若走 OpenAI 兼容模式，请改用各家提供的 <code>/chat/completions</code> 等端点并在 Transformer 选择 <strong>openai</strong>。</p></blockquote><h3 id="_1-3-1-环境准备与启动" tabindex="-1">1.3.1 环境准备与启动 <a class="header-anchor" href="#_1-3-1-环境准备与启动" aria-label="Permalink to &quot;1.3.1 环境准备与启动&quot;">​</a></h3><p>先安装 <strong>Claude Code</strong> 与 <strong>Claude Code Router</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @anthropic-ai/claude-code</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @musistudio/claude-code-router</span></span></code></pre></div><p>启动 CCR 的图形界面（UI）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ccr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ui</span></span></code></pre></div><p>执行后会在本地开启服务并自动打开 Web 界面（默认：<code>http://localhost:3456</code>）。<br><strong>提示：</strong> 若不希望把密钥写入配置文件，可先临时设定环境变量（各模型示例见下文），CCR 会从环境变量读取。</p><p>进入 CCR UI 后，在 <strong>Providers</strong> 列表中为每个模型新增配置。<strong>仅需填写 “Base URL” 与 “API Key” 两项</strong>，其它保持默认即可。保存后，可通过 <strong>“新建会话 → 选择模型 → 输入测试消息”</strong> 验证连通性。</p><p><strong>若不想在gui配置，也可以在以下路径打开config.json文件进行配置：</strong></p><ol><li><p>Windows：</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>%USERPROFILE%\\.claude-code-router\\config.json</span></span></code></pre></div></li><li><p>Mac/Linux</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>~/.claude-code-router/config.json</span></span></code></pre></div></li></ol><h3 id="_1-3-2-五大模型直连配置" tabindex="-1">1.3.2 五大模型直连配置 <a class="header-anchor" href="#_1-3-2-五大模型直连配置" aria-label="Permalink to &quot;1.3.2 五大模型直连配置&quot;">​</a></h3><h4 id="_1-gemini-2-5-pro" tabindex="-1">1. Gemini 2.5 Pro <a class="header-anchor" href="#_1-gemini-2-5-pro" aria-label="Permalink to &quot;1. Gemini 2.5 Pro&quot;">​</a></h4><p><strong>开通与取 Key</strong><br><a href="https://aistudio.google.com/apikey" target="_blank" rel="noreferrer">Google Al Studio</a> → 登录 → 生成 Key（本文称 <code>&lt;YOUR_GEMINI_API_KEY&gt;</code>）。</p><p><strong>CCR UI</strong></p><ul><li><strong>Base URL</strong>：<code>https://generativelanguage.googleapis.com/v1beta/models/</code></li><li><strong>API Key</strong>：<code>&lt;YOUR_GEMINI_API_KEY&gt;</code></li><li><strong>models</strong>：<code>gemini-2.5-pro</code>、<code>gemini-2.5-flash</code></li><li><strong>transformer</strong>：启用 <code>gemini</code>（CCR 内置，将 Claude Code 的消息格式转换为 Gemini 的 <code>generateContent</code> 调用）</li></ul><p><strong><code>config.json</code> 片段</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gemini&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://generativelanguage.googleapis.com/v1beta/models/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;YOUR_GEMINI_API_KEY&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;models&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gemini-2.5-flash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gemini-2.5-pro&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;transformer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;use&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gemini&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>应用层代理</strong><br> 打开代理后，在 <code>config.json</code> 顶层设置 <strong>HTTP 代理</strong>，作用于所有 Provider 的外呼请求：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;PROXY_URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://127.0.0.1:7890&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gemini&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;api_base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://generativelanguage.googleapis.com/v1beta/models/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;YOUR_GEMINI_API_KEY&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;models&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gemini-2.5-flash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gemini-2.5-pro&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;transformer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;use&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gemini&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><code>PROXY_URL</code> 为 CCR 官方支持字段；端口 <strong>7890</strong> 是 Clash/Clash Verge 常见的 <strong>HTTP 代理</strong>端口（请按本地实际端口调整）。</li><li>修改后建议 <code>ccr restart</code>，并确保代理客户端已开启 <strong>System Proxy（系统代理）</strong>。</li></ul><p><strong>连通性测试</strong><br> 保存 → <code>ccr code</code> → 发送“你好”，正常流式返回即成功。</p><p><img src="`+r+`" alt="" data-fancybox="gallery"></p><h4 id="_2-deepseek-v3-1" tabindex="-1">2. DeepSeek-V3.1 <a class="header-anchor" href="#_2-deepseek-v3-1" aria-label="Permalink to &quot;2. DeepSeek-V3.1&quot;">​</a></h4><p><strong>开通与取 Key</strong><br> 访问 <a href="https://platform.deepseek.com/api_keys" target="_blank" rel="noreferrer">Deepseek开发平台</a>→ 新建 Key（<code>&lt;YOUR_DEEPSEEK_API_KEY&gt;</code>）</p><p><strong>A. Anthropic 模式（推荐写到 /v1/messages）</strong></p><ul><li><strong>Transformer</strong>：<strong>Anthropic</strong></li><li><strong>Base URL</strong>：<code>https://api.deepseek.com/anthropic/v1/messages</code></li><li><strong>models</strong>：<code>deepseek-chat</code>（如需推理链：<code>deepseek-reasoner</code>）</li></ul><p><strong>片段（Anthropic）</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-anthropic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.deepseek.com/anthropic/v1/messages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;YOUR_DEEPSEEK_API_KEY&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;models&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-chat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;transformer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;use&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anthropic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>B. OpenAI 兼容模式</strong></p><ul><li><strong>Transformer</strong>：<strong>openai</strong></li><li><strong>Base URL</strong>：<code>https://api.deepseek.com/chat/completions</code></li><li><strong>models</strong>：<code>deepseek-chat</code>, <code>deepseek-reasoner</code></li></ul><p><strong>片段（OpenAI 兼容）</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-openai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.deepseek.com/chat/completions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;YOUR_DEEPSEEK_API_KEY&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;models&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-chat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-reasoner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>连通性测试</strong><br> 保存 → <code>ccr code</code> → 发送“你好”。若报 <code>completions</code>/<code>chat/completions</code> 调用不匹配或 404，请对照所选模式检查 Base URL 与 Transformer。</p><hr><h4 id="_3-glm-4-5-智谱" tabindex="-1">3. GLM-4.5（智谱） <a class="header-anchor" href="#_3-glm-4-5-智谱" aria-label="Permalink to &quot;3. GLM-4.5（智谱）&quot;">​</a></h4><p><strong>开通与取 Key</strong><br> 访问 <a href="https://open.bigmodel.cn/usercenter/apikeys" target="_blank" rel="noreferrer">智谱AI开放平台 API 密钥页面</a> → 新建 Key（<code>&lt;YOUR_ZHIPU_API_KEY&gt;</code>）</p><p><strong>A. Anthropic 模式</strong></p><ul><li><strong>Transformer</strong>：<strong>Anthropic</strong></li><li><strong>Base URL</strong>：<code>https://open.bigmodel.cn/api/anthropic/v1/messages</code></li><li><strong>models</strong>：<code>glm-4.5</code></li></ul><p><strong>片段（Anthropic）</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;zhipu-anthropic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://open.bigmodel.cn/api/anthropic/v1/messages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;YOUR_ZHIPU_API_KEY&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;models&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;glm-4.5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;transformer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;use&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anthropic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>B. OpenAI 兼容模式</strong></p><ul><li><strong>Transformer</strong>：<strong>openai</strong></li><li><strong>Base URL</strong>：<code>https://open.bigmodel.cn/api/paas/v4/chat/completions</code>（注意 <strong>/v4</strong>）</li><li><strong>models</strong>：<code>glm-4.5</code></li></ul><p><strong>片段（OpenAI 兼容）</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;zhipu-openai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://open.bigmodel.cn/api/paas/v4/chat/completions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;YOUR_ZHIPU_API_KEY&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;models&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;glm-4.5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>连通性测试</strong><br> 保存 → <code>ccr code</code> → 发送“你好”。若错误提示你用了 <code>v1/completions</code>，请改用 <strong><code>/v4/chat/completions</code></strong>。</p><hr><h4 id="_4-kimi-k2-0711-preview" tabindex="-1">4. Kimi-K2（0711 preview） <a class="header-anchor" href="#_4-kimi-k2-0711-preview" aria-label="Permalink to &quot;4. Kimi-K2（0711 preview）&quot;">​</a></h4><p><strong>开通与取 Key</strong><br> 访问 <a href="https://platform.moonshot.cn/console/api-keys" target="_blank" rel="noreferrer">Moonshot AI 开放平台</a> → 新建 Key（<code>&lt;YOUR_MOONSHOT_API_KEY&gt;</code>）</p><blockquote><p>经过初步的测试，似乎是<strong>Anthropic格式</strong>模型是<code>kimi-k2-turbo-preview</code>；<strong>openai格式</strong>模型是<code>kimi-k2-0711-preview</code></p></blockquote><p><strong>A. Anthropic 模式（推荐写到 /v1/messages）</strong></p><ul><li><strong>Transformer</strong>：<strong>Anthropic</strong></li><li><strong>Base URL</strong>：<code>https://api.moonshot.cn/anthropic/v1/messages</code></li><li><strong>models</strong>：<code>kimi-k2-turbo-preview</code></li></ul><p><strong>片段（Anthropic）</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;kimi-anthropic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.moonshot.cn/anthropic/v1/messages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;YOUR_MOONSHOT_API_KEY&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;models&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;kimi-k2-turbo-preview&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;transformer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;use&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anthropic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>B. OpenAI 兼容模式</strong></p><ul><li><strong>Transformer</strong>：<strong>openai</strong></li><li><strong>Base URL</strong>：<code>https://api.moonshot.cn/v1/chat/completions</code></li><li><strong>models</strong>：<code>kimi-k2-0711-preview</code></li></ul><p><strong>片段（OpenAI 兼容）</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;kimi-openai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.moonshot.cn/v1/chat/completions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;YOUR_MOONSHOT_API_KEY&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;models&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;kimi-k2-0711-preview&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;transformer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;use&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;openai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>连通性测试</strong><br> 保存 → <code>ccr code</code> → 发送“你好”。若报 <code>completions</code>/<code>chat/completions</code> 调用不匹配或 404，请对照所选模式检查 Base URL 与 Transformer。</p><hr><h4 id="_5-qwen3-coder-魔搭-modelscope" tabindex="-1">5. Qwen3-Coder（魔搭 ModelScope） <a class="header-anchor" href="#_5-qwen3-coder-魔搭-modelscope" aria-label="Permalink to &quot;5. Qwen3-Coder（魔搭 ModelScope）&quot;">​</a></h4><p><strong>开通与取 Key</strong><br> 访问 <a href="https://www.modelscope.cn/my/overview" target="_blank" rel="noreferrer">ModelScope魔搭社区</a>→ 新建 Key（<code>&lt;YOUR_DEEPSEEK_API_KEY&gt;</code>）</p><p><strong>CCR UI（OpenAI 兼容）</strong></p><ul><li><strong>Transformer</strong>：<strong>openai</strong></li><li><strong>Base URL</strong>：<code>https://api-inference.modelscope.cn/v1/chat/completions</code></li><li><strong>API Key</strong>：<code>&lt;YOUR_MODELSCOPE_OR_DASHSCOPE_API_KEY&gt;</code></li><li><strong>models</strong>：<code>Qwen/Qwen3-Coder-480B-A35B-Instruct</code>（按实际可用模型名填写）</li></ul><p><strong><code>config.json</code> 片段</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;modelscope&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api-inference.modelscope.cn/v1/chat/completions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;YOUR_API_KEY&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;models&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Qwen/Qwen3-Coder-480B-A35B-Instruct&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="_1-3-3-连通性测试-统一步骤" tabindex="-1">1.3.3 连通性测试（统一步骤） <a class="header-anchor" href="#_1-3-3-连通性测试-统一步骤" aria-label="Permalink to &quot;1.3.3 连通性测试（统一步骤）&quot;">​</a></h3><ol><li>在 CCR UI 保存 Provider；</li><li>打开对话：<code>ccr code</code>；</li><li>发送“你好”或简单指令；</li><li>正常收到流式响应即打通。</li></ol><hr><h3 id="_1-3-5-常见报错速查" tabindex="-1">1.3.5 常见报错速查 <a class="header-anchor" href="#_1-3-5-常见报错速查" aria-label="Permalink to &quot;1.3.5 常见报错速查&quot;">​</a></h3><ul><li><strong>401 Unauthorized</strong>：Key 为空/失效/类型不符（如把 DashScope Key 用到非魔搭端点）。</li><li><strong>403 Forbidden</strong>：账号或地域未开通对应权限/模型。</li><li><strong>429 Too Many Requests</strong>：触发速率/并发限制。</li><li><strong>5XX Server Error</strong>：服务端波动，稍后重试或切换可用区。</li><li><strong>“This is a chat model and not supported in the v1/completions endpoint”</strong>：<br> 你把<strong>聊天模型</strong>发到 <code>v1/completions</code> 了；应改用 <strong><code>/v1/chat/completions</code></strong>（OpenAI 兼容模式）。</li><li><strong>404（Anthropic 路径）</strong>：多见于 <code>…/anthropic</code> 又被路由层补了一次 <code>/v1/messages</code>；<strong>把 Base URL 直接写到 <code>/v1/messages</code> 结尾</strong>通常可解。</li></ul><hr><h3 id="_1-3-6-关于-model-菜单与-自我认知-提示" tabindex="-1">1.3.6 关于 <code>/model</code> 菜单与“自我认知”提示 <a class="header-anchor" href="#_1-3-6-关于-model-菜单与-自我认知-提示" aria-label="Permalink to &quot;1.3.6  关于 \`/model\` 菜单与“自我认知”提示&quot;">​</a></h3><p>在 <strong>Claude Code</strong> 的对话框内输入 <code>/model</code> 回车，默认只会出现 3 个固定选项（例如 _Default/Sonnet 4_、_Opus_、_Opus Plan Mode_）。<strong>这是内置菜单的限制</strong>。<br> 但你仍可<strong>手动切换</strong>：直接输入</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/model</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provider,model</span></span></code></pre></div><p>例如：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/model</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deepseek,deepseek-chat</span></span></code></pre></div><p>可以正常切到 DeepSeek。<br> 另外，Claude Code 的<strong>系统提示词</strong>可能让非 Claude 模型在会话开头“自称 Sonnet 4”。<strong>一旦你用 <code>/model provider,model</code> 切换成功，模型的“自我认知”就会恢复正常</strong>。</p><p>​Claude是完全通过终端进行交互的，其中内置了多种工具，比如文件操作、搜索等。可以理解自然语言并转化为相应的命令执行。</p>`,113)]))}const q=a(k,[["render",d]]);export{m as __pageData,q as default};
