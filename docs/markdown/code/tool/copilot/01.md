# 使用 GitHub Copilot

GitHub Copilot 是由 GitHub 和 OpenAI 联合开发的 AI 编码助手，能够基于上下文自动补全代码、生成函数、优化逻辑，甚至是编写整段的代码模块，帮助开发者更高效地编码。

GitHub Copilot 集成在 VS Code、Visual Studio、JetBrains 等多种 IDE 中，让你在写代码时感觉仿佛有一位经验丰富的搭档随时协助你。

## 1. 核心功能

1. 代码自动补全

    GitHub Copilot 能够根据你的代码上下文和注释，实时提供代码建议。它可以：

    - 补全整行代码
    - 生成完整函数
    - 根据描述性注释生成代码
2. 代码解释

    Copilot 可以帮助你理解不熟悉的代码：

    - 解释复杂代码段的功能
    - 提供代码优化建议
    - 识别潜在问题
3. 多语言支持

    支持几乎所有主流编程语言，包括：

    - JavaScript/TypeScript
    - Python
    - Java
    - C++
    - Go
    - Ruby 等

## 2. 安装与设置

1. vscode 已经默认安装了GitHub Copilot，如果没有这个小图标，请更新到最新版本

    ![](/code/tool/copilot/001.png)

2. 安装后，打开 VS Code 的设置，搜索 Copilot,在这里我们可以在 VS Code 

    ![](/code/tool/copilot/002.png)


## 3. 使用技巧

1. 智能补全


    当你开始输入代码时，GitHub Copilot 会自动给出建议:

    ```js
    function fetchData(url) {
        // Copilot 会自动给出一个基于 fetch API 的实现
    }
    ```

    ![](/code/tool/copilot/003.png)

    我们可以按下 Tab 键接受建议。

    - 如果有多种建议，可按 `Ctrl + ]` 或 `Ctrl + [` 切换。

    - 如果不想使用建议，按 Esc 取消。

2. 基于注释生成代码
    
    直接写注释，Copilot 会帮你实现：

    ```java
    // 实现一个java快速排序算法
    ```

    ![](/code/tool/copilot/004.png)

3. 生成测试用例

    - 你甚至可以直接写注释让 Copilot 帮你生成测试：

        ```js
        // 为 quicksort 函数生成单元测试
        ```

    - 生成后代码

        ```java
        // 为 quicksort 函数生成单元测试
        import org.junit.jupiter.api.Test;
        import static org.junit.jupiter.api.Assertions.*;
        public class QuickSortTest {
            @Test
            public void testQuickSort() {
                int[] arr = {10, 7, 8, 9, 1, 5};
                QuickSort.quickSort(arr, 0, arr.length - 1);
                int[] expected = {1, 5, 7, 8, 9, 10};
                assertArrayEquals(expected, arr);
            }
        }
        ```
4. 快捷键说明：

    | 快捷键              | 功能描述          |
    |------------------|---------------|
    | `Tab             ` | 接受建议          |
    | `Esc             ` | 忽略建议          |
    | `Ctrl + ]        ` | 查看下一个建议       |
    | `Ctrl + [        ` | 查看上一个建议       |
    | `Ctrl + Enter    ` | 打开 Copilot 面板 |
    | `Ctrl + Shift + P` | 启用/禁用 Copilot |



## 4. 在 VS Code 中使用聊天功能

1. 介绍
    在 Visual Studio Code 中使用聊天功能，可以通过自然语言询问有关代码库的问题，或者在项目中进行多文件编辑。聊天功能可以根据你的需求在不同的模式下运行，从提问、进行多文件编辑到启动代理式编码工作流，都能满足你的需求。

    你可以在以下场景中使用 VS Code 的聊天功能：

    - 理解代码：例如，"解释这个身份验证中间件是如何工作的？"
    - 调试问题：例如，"为什么我在这个循环中得到一个空引用？"
    - 获取代码建议：例如，"展示如何用 Python 实现二叉搜索树？"
    - 优化性能：例如，"帮我提高这个数据库查询的效率？"
    - 学习最佳实践：例如，"处理异步函数中的错误有什么推荐的方法？"
    - 获取 VS Code 小贴士：例如，"如何自定义键盘快捷键？"


    >提示：如果你还没有 Copilot 订阅，可以通过注册 Copilot 免费计划来免费使用 Copilot，每月有限制的补全和聊天交互次数。

2. 聊天模式

根据你的具体需求，你可以选择不同的聊天模式：

| 模式         | 描述               | 场景                                                          |
|------------|------------------|-------------------------------------------------------------|
| 提问 (Ask)   | 询问有关代码库或技术概念的问题。 | 在稳定版或预览版中打开。理解代码片段的工作原理、头脑风暴软件设计想法或探索新技术。                   |
| 编辑 (Edit)  | 在代码库中进行多文件编辑。    | 在稳定版或预览版中打开。直接在项目中应用代码编辑，用于实现新功能、修复错误或重构代码。                 |
| 代理 (Agent) | 启动代理式编码工作流。      | 在稳定版或预览版中打开。在极少的指导下，自主实现新功能或项目的高级需求，调用工具执行专业任务，并在出现问题时迭代解决。 |


通过在聊天视图中使用模式下拉菜单，可以在不同的聊天模式之间切换。

![](/code/tool/copilot/005.png)